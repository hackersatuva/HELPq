{"version":3,"sources":["meteor://ðŸ’»app/server/collections.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/server/collections.js","sourcesContent":["// Collections\n/**\n *\n * Ticket:\n *  {\n *     userId: STRING,\n *     name: STRING,\n *     imageUrl: STRING [optional]\n *     topic: STRING,\n *     location: STRING,\n *     contact: STRING,\n *     timestamp: Number (Milliseconds),\n *     status: STRING [OPEN, CLAIMED, COMPLETE, EXPIRED, CANCELLED],\n *     expiresAt: Number (Milliseconds)\n *     claimId: STRING\n *     claimName: STRING\n *     claimTime: Number (Milliseconds)\n *     completeTime: Number (Milliseconds)\n *     rating: NUMBER\n *     comments: STRING\n *  }\n *\n */\nTickets = new Meteor.Collection('tickets');\n\n/**\n * Announcement:\n *  {\n *    userId: STRING,\n  *   name: STRING,\n  *   header: STRING,\n  *   content: STRING,\n  *   timestamp: Number (Milliseconds)\n *  }\n */\nAnnouncements = new Meteor.Collection('announcements');\n\n/**\n * Settings contain all of the information that can be edited on the client side.\n *\n * There is and should only be a single document.\n * {\n *  queueEnabled: BOOLEAN\n *  expirationDelay: Number (Milliseconds)\n * }\n */\nSettings = new Meteor.Collection('settings');\n\n/**\n * Users:\n * {\n *    profile: {\n *      name: STRING\n *      email: STRING\n *      phone: STRING\n *      company: STRING\n *      mentor: BOOLEAN\n *      admin: BOOLEAN\n *      skills: [STRING]\n *    }\n * }\n */\n\n// ----------------------------------------\n// Collection Permissions\n// ----------------------------------------\n\nMeteor.users.allow({\n  // Update users, only if Admin\n  update: function(userId, doc){\n    var user = _getUser(userId);\n    return user.profile.admin;\n  }\n});\n\n// Currently, disable all direct modifications\nTickets.allow({\n  insert: function () {\n    // Don't fuck with the console, yo\n    return false;\n  },\n  update: function () {\n    // Only admin and mentors can modify tickets\n    return false;\n    // Enable below to allow client modifications\n    //return Meteor.user().profile.admin || Meteor.user().profile.mentor;\n  },\n  remove: function () {\n    // Only admin and mentors can remove tickets\n    return false;\n    // Enable below to allow client modifications\n    //return Meteor.user().profile.admin || Meteor.user().profile.mentor;\n  }\n});\n\nAnnouncements.allow({\n  insert: function() {return false},\n  update: function() {return false},\n  remove: function() {return false}\n});\n\nSettings.allow({\n  insert: function() {return false},\n  update: function() {return false},\n  remove: function() {return false}\n});"]}